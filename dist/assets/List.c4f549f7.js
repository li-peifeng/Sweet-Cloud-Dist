import{cq as $,b as p,e as t,a8 as g,K as y,aB as m,cI as h,r as w,aD as j,S as x,bQ as k,av as A,af as S,aq as v,aW as a,bT as C,ca as I,a7 as O,l as P,a as z,k as f,w as _,cJ as B,cK as D,cL as L,D as b,E as M,a0 as E,a3 as T}from"./index.14df8b30.js";import{b as W}from"./Folder.ebb8ca99.js";import{u as H}from"./index.64d9aa1b.js";import{r as q}from"./index.c50ad09b.js";import{g as F,O as K}from"./icon.f4da41a1.js";import{u as R}from"./helper.0f232915.js";import"./Layout.e132f7b8.js";import"./index.e0c7a264.js";import"./FolderTree.68606dbf.js";import"./video_box.e90d7fc0.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./Paginator.8d9602e1.js";import"./index.1749f1d4.js";import"./index.6c81abb0.js";const n=[{name:"name",textAlign:"left",w:{"@initial":"76%","@md":"50%"}},{name:"size",textAlign:"right",w:{"@initial":"24%","@md":"17%"}},{name:"modified",textAlign:"right",w:{"@initial":0,"@md":"33%"}}],G=e=>{const{isHide:o}=$();if(o(e.obj))return null;const{setPathAs:d}=H(),{show:c}=W({id:1}),{pushHref:u,to:s}=p(),r=R(),l=()=>P.list_item_filename_overflow;return t(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},style:{width:"100%"},get children(){return t(g,{class:"list-item",w:"$full",p:"$2",rounded:"$lg",transition:"all 0.3s",get _hover(){return{transform:"scale(1.01)",bgColor:y()}},as:q,get href(){return e.obj.name},get cursor(){return!m()||r()?"pointer":"default"},"on:click":i=>{if(!!m()){if(i.preventDefault(),r()){s(u(e.obj.name));return}h(e.index,!e.obj.selected)}},onMouseEnter:()=>{d(e.obj.name,e.obj.is_dir,!0)},onContextMenu:i=>{w(()=>{j(!1),h(e.index,!0,!0)}),c(i,{props:e.obj})},get children(){return[t(g,{class:"name-box",spacing:"$1",get w(){return n[0].w},get children(){return[t(x,{get when(){return m()},get children(){return t(k,{"on:click":i=>{i.stopPropagation()},get checked(){return e.obj.selected},onChange:i=>{h(e.index,i.target.checked)}})}}),t(A,{class:"icon",boxSize:"$6",get color(){return S()},get as(){return F(e.obj)},mr:"$1","on:click":i=>{e.obj.type===K.IMAGE&&(i.stopPropagation(),i.preventDefault(),v.emit("gallery",e.obj.name))}}),t(a,{class:"name",get css(){return{wordBreak:"break-all",whiteSpace:l()==="multi_line"?"unset":"nowrap","overflow-x":l()==="scrollable"?"auto":"hidden",textOverflow:l()==="ellipsis"?"ellipsis":"unset","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}}},get title(){return e.obj.name},get children(){return e.obj.name}})]}}),t(a,{class:"size",get w(){return n[1].w},get textAlign(){return n[1].textAlign},get children(){return C(e.obj.size)}}),t(a,{class:"modified",display:{"@initial":"none","@md":"inline"},get w(){return n[2].w},get textAlign(){return n[2].textAlign},get children(){return I(e.obj.modified)}})]}})}})},oe=()=>{const e=z(),[o,d]=f(),[c,u]=f(!1);_(()=>{o()&&B(o(),c())});const s=r=>({fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:r.textAlign,cursor:"pointer",onClick:()=>{r.name===o()?u(!c()):w(()=>{d(r.name),u(!1)})}});return t(T,{class:"list",w:"$full",spacing:"$1",get children(){return[t(g,{class:"title",w:"$full",p:"$2",get children(){return[t(g,{get w(){return n[0].w},spacing:"$1",get children(){return[t(x,{get when(){return m()},get children(){return t(k,{get checked(){return D()},get indeterminate(){return L()},onChange:r=>{j(r.target.checked)}})}}),t(a,b(()=>s(n[0]),{get children(){return e(`home.obj.${n[0].name}`)}}))]}}),t(a,b({get w(){return n[1].w}},()=>s(n[1]),{get children(){return e(`home.obj.${n[1].name}`)}})),t(a,b({get w(){return n[2].w}},()=>s(n[2]),{display:{"@initial":"none","@md":"inline"},get children(){return e(`home.obj.${n[2].name}`)}}))]}}),t(M,{get each(){return E.objs},children:(r,l)=>t(G,{obj:r,get index(){return l()}})})]}})};export{oe as default};
