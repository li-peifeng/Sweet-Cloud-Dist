System.register(["./index-legacy.c362e6b6.js"],(function(e){"use strict";var r,t,n,a,u,s,c,i,o,g,l,d,h,f,y,b,p,v,x,w,_;return{setters:[e=>{r=e.e,t=e.aW,n=e.b9,a=e.d,u=e.r,s=e.c,c=e.S,i=e.a6,o=e.bN,g=e.av,l=e.aN,d=e.b5,h=e.ai,f=e.D,y=e.G,b=e.aa,p=e.au,v=e.n,x=e.ba,w=e.aY,_=e.cR}],execute:function(){e("default",(()=>{const{back:e}=r(),[m,$]=t((()=>n.post("/auth/2fa/generate"))),k=a(),[S,q]=u(),[D,I]=u("");(async()=>{if(p().otp)return v.warning(k("users.2fa_already_enabled")),void e();const r=await $();x(r,q)})();const[N,W]=t((()=>n.post("/auth/2fa/verify",{code:D(),secret:S()?.secret}))),j=async()=>{const r=await W();w(r,(()=>{_({...p(),otp:!0}),e()}))};return s(b,{get loading(){return m()},get children(){return s(c,{get when(){return S()},get children(){return s(i,{spacing:"$2",alignItems:"start",get children(){return[s(o,{get children(){return k("users.scan_qr")}}),s(g,{boxSize:"$xs",rounded:"$lg",get src(){return S()?.qr}}),s(o,{get children(){return[l((()=>k("users.or_manual"))),":"," ",s(d,{get color(){return h()},get children(){return S()?.secret}})]}}),s(f,{maxW:"$xs",get placeholder(){return k("users.input_code")},get value(){return D()},onInput:e=>I(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&j()}}),s(y,{get loading(){return N()},onClick:j,get children(){return k("users.verify")}})]}})}})}})}))}}}));
